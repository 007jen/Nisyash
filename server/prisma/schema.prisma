generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
}

model Lead {
    id        String   @id @default(cuid())
    firstName String
    lastName  String
    email     String
    phone     String?
    subject   String
    message   String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model Category {
    id          String    @id
    name        String    @unique
    description String?
    icon        String?
    products    Product[]
}

model Product {
    id              String   @id @default(cuid())
    name            String
    description     String?
    price           Float
    image           String? // path to the uploaded image
    inStock         Boolean  @default(true)
    defaultQuantity Int      @default(1)
    category        Category @relation(fields: [categoryId], references: [id])
    categoryId      String
    tags            String[]
    createdAt       DateTime @default(now())
    updatedAt       DateTime @updatedAt
}

model QuoteRequest {
    id              String      @id @default(cuid())
    fullName        String
    companyName     String
    email           String
    phone           String
    additionalNotes String?
    items           QuoteItem[]
    createdAt       DateTime    @default(now())
    updatedAt       DateTime    @updatedAt
}

model QuoteItem {
    id             String       @id @default(cuid())
    quoteRequestId String
    quoteRequest   QuoteRequest @relation(fields: [quoteRequestId], references: [id])
    productId      String
    productName    String
    quantity       Int
}
